
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Model Repository Extension &#8212; NVIDIA Triton Inference Server</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=62ba249389abaaa9ffc34bf36a076bdc1d65ee18" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="https://js.hcaptcha.com/1/api.js"></script>
    <script src="//assets.adobedtm.com/5d4962a43b79/c1061d2c5e7b/launch-191c2462b890.min.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=f31d14ad54b65d19161ba51d4ffff3a77ae00456"></script>
    <script src="../_static/design-tabs.js"></script>
    <link rel="canonical" href="https://docs.nvidia.com/deeplearning/triton-inference-server/user-guide/docs/protocol/extension_model_repository.html" />
    <link rel="shortcut icon" href="../_static/nvidia-logo-vert-rgb-blk-for-screen.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Schedule Policy Extension" href="extension_schedule_policy.html" />
    <link rel="prev" title="Model Configuration Extension" href="extension_model_configuration.html" /> 
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
      
<style type="text/css">
  ul.ablog-archive {
    list-style: none;
    overflow: auto;
    margin-left: 0px;
  }
  ul.ablog-archive li {
    float: left;
    margin-right: 5px;
    font-size: 80%;
  }
  ul.postlist a {
    font-style: italic;
  }
  ul.postlist-style-disc {
    list-style-type: disc;
  }
  ul.postlist-style-none {
    list-style-type: none;
  }
  ul.postlist-style-circle {
    list-style-type: circle;
  }
</style>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/nvidia-logo-horiz-rgb-blk-for-screen.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">NVIDIA Triton Inference Server</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Getting Started
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started/quickstart.html">
   Quickstart
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  User Guide
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/performance_tuning.html">
   Deploying your trained model using Triton
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/architecture.html">
   Triton Architecture
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/model_repository.html">
   Model Repository
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../customization_guide/repository_agents.html">
   Repository Agent
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/model_configuration.html">
   Model Configuration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/optimization.html">
   Optimization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/ragged_batching.html">
   Ragged Batching
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/rate_limiter.html">
   Rate Limiter
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/model_analyzer.html">
   Model Analyzer
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/perf_analyzer.html">
   Performance Analyzer
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/model_management.html">
   Model Management
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/custom_operations.html">
   Custom Operations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/decoupled_models.html">
   Decoupled Backends and Models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/response_cache.html">
   Triton Response Cache
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/metrics.html">
   Metrics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/trace.html">
   Triton Server Trace
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/jetson.html">
   Triton Inference Server Support for Jetson and JetPack
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/v1_to_v2.html">
   Version 1 to Version 2 Migration
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/faq.html">
   FAQ
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Protocol Guides
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../customization_guide/inference_protocols.html">
   Inference Protocols and APIs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="extension_binary_data.html">
   Binary Tensor Data Extension
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="extension_classification.html">
   Classification Extension
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="extension_logging.html">
   Logging Extension
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="extension_model_configuration.html">
   Model Configuration Extension
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Model Repository Extension
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="extension_schedule_policy.html">
   Schedule Policy Extension
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="extension_sequence.html">
   Sequence Extension
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="extension_shared_memory.html">
   Shared-Memory Extension
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="extension_statistics.html">
   Statistics Extension
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="extension_trace.html">
   Trace Extension
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Customization Guide
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../customization_guide/build.html">
   Building Triton
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../customization_guide/compose.html">
   Customize Triton Container
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../customization_guide/test.html">
   Testing Triton
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Examples
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../examples/jetson/README.html">
   Using Triton Inference Server as a shared library for execution on Jetson
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../examples/jetson/concurrency_and_dynamic_batching/README.html">
   Concurrent inference and dynamic batching
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/triton-inference-server/server"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/triton-inference-server/server/issues/new?title=Issue%20on%20page%20%2Fprotocol/extension_model_repository.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#http-rest">
   HTTP/REST
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#index">
     Index
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#load">
     Load
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#examples">
       Examples
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#unload">
     Unload
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#grpc">
   GRPC
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Index
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     Load
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     Unload
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Model Repository Extension</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#http-rest">
   HTTP/REST
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#index">
     Index
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#load">
     Load
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#examples">
       Examples
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#unload">
     Unload
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#grpc">
   GRPC
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Index
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     Load
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     Unload
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                 <!--
# Copyright 2020-2022, NVIDIA CORPORATION & AFFILIATES. All rights reserved.
#
# Redistribution and use in source and binary forms, with or without
# modification, are permitted provided that the following conditions
# are met:
#  * Redistributions of source code must retain the above copyright
#    notice, this list of conditions and the following disclaimer.
#  * Redistributions in binary form must reproduce the above copyright
#    notice, this list of conditions and the following disclaimer in the
#    documentation and/or other materials provided with the distribution.
#  * Neither the name of NVIDIA CORPORATION nor the names of its
#    contributors may be used to endorse or promote products derived
#    from this software without specific prior written permission.
#
# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS'' AND ANY
# EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
# PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR
# CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
# EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
# PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
# PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
# OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
# (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
# OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-->
<div class="tex2jax_ignore mathjax_ignore section" id="model-repository-extension">
<h1>Model Repository Extension<a class="headerlink" href="#model-repository-extension" title="Permalink to this headline">#</a></h1>
<p>This document describes Triton’s model repository extension.  The
model-repository extension allows a client to query and control the
one or more model repositories being served by Triton.  Because this
extension is supported, Triton reports “model_repository” in the
extensions field of the Server Metadata. This extension has an
optional component, described below, that allows the unload API to
specify the “unload_dependents” parameter. Versions of Triton that
support this optional component will also report
“model_repository(unload_dependents)” in the extensions field of the
Server Metadata.</p>
<div class="section" id="http-rest">
<h2>HTTP/REST<a class="headerlink" href="#http-rest" title="Permalink to this headline">#</a></h2>
<p>In all JSON schemas shown in this document <code class="docutils literal notranslate"><span class="pre">$number</span></code>, <code class="docutils literal notranslate"><span class="pre">$string</span></code>, <code class="docutils literal notranslate"><span class="pre">$boolean</span></code>,
<code class="docutils literal notranslate"><span class="pre">$object</span></code> and <code class="docutils literal notranslate"><span class="pre">$array</span></code> refer to the fundamental JSON types. <code class="docutils literal notranslate"><span class="pre">#optional</span></code>
indicates an optional JSON field.</p>
<p>The model-repository extension requires Index, Load and Unload
APIs. Triton exposes the endpoints at the following URLs.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>POST v2/repository/index

POST v2/repository/models/${MODEL_NAME}/load

POST v2/repository/models/${MODEL_NAME}/unload
</pre></div>
</div>
<div class="section" id="index">
<h3>Index<a class="headerlink" href="#index" title="Permalink to this headline">#</a></h3>
<p>The index API returns information about every model available in a
model repository, even if it is not currently loaded into Triton. The
index API provides a way to determine which models can potentially be
loaded by the Load API. A model-repository index request is made with
an HTTP POST to the index endpoint. In the corresponding response the
HTTP body contains the JSON response.</p>
<p>The index request object, identified as <code class="docutils literal notranslate"><span class="pre">$repository_index_request</span></code>, is
required in the HTTP body of the POST request.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$repository_index_request =
{
  &quot;ready&quot; : $boolean #optional,
}
</pre></div>
</div>
<ul class="simple">
<li><p>“ready” : Optional, default is false. If true return only models ready for inferencing.</p></li>
</ul>
<p>A successful index request is indicated by a 200 HTTP status code. The
response object, identified as <code class="docutils literal notranslate"><span class="pre">$repository_index_response</span></code>, is returned
in the HTTP body for every successful request.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$repository_index_response =
[
  {
    &quot;name&quot; : $string,
    &quot;version&quot; : $string #optional,
    &quot;state&quot; : $string,
    &quot;reason&quot; : $string
  },
  …
]
</pre></div>
</div>
<ul class="simple">
<li><p>“name” : The name of the model.</p></li>
<li><p>“version” : The version of the model.</p></li>
<li><p>“state” : The state of the model.</p></li>
<li><p>“reason” : The reason, if any, that the model is in the current state.</p></li>
</ul>
<p>A failed index request must be indicated by an HTTP error status
(typically 400). The HTTP body must contain the
<code class="docutils literal notranslate"><span class="pre">$repository_index_error_response</span></code> object.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$repository_index_error_response =
{
  &quot;error&quot;: $string
}
</pre></div>
</div>
<ul class="simple">
<li><p>“error” : The descriptive message for the error.</p></li>
</ul>
</div>
<div class="section" id="load">
<h3>Load<a class="headerlink" href="#load" title="Permalink to this headline">#</a></h3>
<p>The load API requests that a model be loaded into Triton, or reloaded
if the model is already loaded. A load request is made with an HTTP
POST to a load endpoint. The HTTP body may be empty or may contain
the load request object, identified as <code class="docutils literal notranslate"><span class="pre">$repository_load_request</span></code>.
A successful load request is indicated by a 200 HTTP status.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$repository_load_request =
{
  &quot;parameters&quot; : $parameters #optional
}
</pre></div>
</div>
<ul class="simple">
<li><p>“parameters” : An object containing zero or more parameters for this
request expressed as key/value pairs. See
<a class="reference external" href="https://github.com/kserve/kserve/blob/master/docs/predict-api/v2/required_api.md#parameters">Parameters</a>
for more information.</p></li>
</ul>
<p>The load API accepts the following parameters:</p>
<ul class="simple">
<li><p>“config” : string parameter that contains a JSON representation of the model
configuration, which must be able to be parsed into <a class="reference external" href="https://github.com/triton-inference-server/common/blob/main/protobuf/model_config.proto">ModelConfig message from
model_config.proto</a>.
This config will be used for loading the model instead of the one in
the model directory. If config is provided, the (re-)load will be triggered as
the model metadata has been updated, and the same (re-)load behavior will be
applied.</p></li>
<li><p>“file:&lt;version&gt;/&lt;file-name&gt;” : The serialized model file, base64 encoded.
This convention will be used to specify the override model directory to load
the model from. For instance, if the user wants to specify a model directory
that contains an ONNX model as version 2, then the user will specify the
parameter to “file:2/model.onnx” : “<base64-encoded-file-content>”. Note that
“config” parameter must be provided to serve as the model configuration of the
override model directory.</p></li>
</ul>
<p>A failed load request must be indicated by an HTTP error status
(typically 400). The HTTP body must contain the
<code class="docutils literal notranslate"><span class="pre">$repository_load_error_response</span></code> object.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$repository_load_error_response =
{
  &quot;error&quot;: $string
}
</pre></div>
</div>
<ul class="simple">
<li><p>“error” : The descriptive message for the error.</p></li>
</ul>
<div class="section" id="examples">
<h4>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">#</a></h4>
<p>For the following request, Triton will load the model “mymodel” with provided
model configuration and model file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">v2</span><span class="o">/</span><span class="n">repository</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">mymodel</span><span class="o">/</span><span class="n">load</span> <span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="n">Host</span><span class="p">:</span> <span class="n">localhost</span><span class="p">:</span><span class="mi">8000</span>
<span class="p">{</span>
  <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;config&quot;</span><span class="p">:</span> <span class="s2">&quot;{</span>
      <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;mymodel&quot;</span><span class="p">,</span>
      <span class="s2">&quot;backend&quot;</span><span class="p">:</span> <span class="s2">&quot;onnxruntime&quot;</span><span class="p">,</span>
      <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">[{</span>
          <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;INPUT0&quot;</span><span class="p">,</span>
          <span class="s2">&quot;datatype&quot;</span><span class="p">:</span> <span class="s2">&quot;FP32&quot;</span><span class="p">,</span>
          <span class="s2">&quot;shape&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="mi">1</span> <span class="p">]</span>
        <span class="p">}</span>
      <span class="p">],</span>
      <span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="p">[{</span>
          <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;OUTPUT0&quot;</span><span class="p">,</span>
          <span class="s2">&quot;datatype&quot;</span><span class="p">:</span> <span class="s2">&quot;FP32&quot;</span><span class="p">,</span>
          <span class="s2">&quot;shape&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="mi">1</span> <span class="p">]</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">}</span><span class="s2">&quot;,</span>

    <span class="s2">&quot;file:1/model.onnx&quot;</span> <span class="p">:</span> <span class="s2">&quot;&lt;base64-encoded-file-content&gt;&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="unload">
<h3>Unload<a class="headerlink" href="#unload" title="Permalink to this headline">#</a></h3>
<p>The unload API requests that a model be unloaded from Triton. An
unload request is made with an HTTP POST to an unload endpoint. The
HTTP body may be empty or may contain the unload request object,
identified as <code class="docutils literal notranslate"><span class="pre">$repository_unload_request</span></code>. A successful unload request
is indicated by a 200 HTTP status.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$repository_unload_request =
{
  &quot;parameters&quot; : $parameters #optional
}
</pre></div>
</div>
<ul class="simple">
<li><p>“parameters” : An object containing zero or more parameters for this
request expressed as key/value pairs. See
<a class="reference external" href="https://github.com/kserve/kserve/blob/master/docs/predict-api/v2/required_api.md#parameters">Parameters</a>
for more information.</p></li>
</ul>
<p>The unload API accepts the following parameters:</p>
<ul class="simple">
<li><p>“unload_dependents” : boolean parameter indicating that in addition
to unloading the requested model, also unload any dependent model
that was loaded along with the requested model. For example, request to
unload the models composing an ensemble will unload the ensemble as well.</p></li>
</ul>
<p>A failed unload request must be indicated by an HTTP error status
(typically 400). The HTTP body must contain the
<code class="docutils literal notranslate"><span class="pre">$repository_unload_error_response</span></code> object.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$repository_unload_error_response =
{
  &quot;error&quot;: $string
}
</pre></div>
</div>
<ul class="simple">
<li><p>“error” : The descriptive message for the error.</p></li>
</ul>
</div>
</div>
<div class="section" id="grpc">
<h2>GRPC<a class="headerlink" href="#grpc" title="Permalink to this headline">#</a></h2>
<p>The model-repository extension requires the following API:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>service GRPCInferenceService
{
  …

  // Get the index of model repository contents.
  rpc RepositoryIndex(RepositoryIndexRequest)
          returns (RepositoryIndexResponse) {}

  // Load or reload a model from a repository.
  rpc RepositoryModelLoad(RepositoryModeLoadRequest)
          returns (RepositoryModelLoadResponse) {}

  // Unload a model.
  rpc RepositoryModelUnload(RepositoryModelUnloadRequest)
          returns (RepositoryModelUnloadResponse) {}
}

message ModelRepositoryParameter
{
  // The parameter value can be a string, an int64, a boolean
  // or a message specific to a predefined parameter.
  oneof parameter_choice
  {
    // A boolean parameter value.
    bool bool_param = 1;

    // An int64 parameter value.
    int64 int64_param = 2;

    // A string parameter value.
    string string_param = 3;

    // A bytes parameter value.
    bytes bytes_param = 4;
  }
}
</pre></div>
</div>
<div class="section" id="id1">
<h3>Index<a class="headerlink" href="#id1" title="Permalink to this headline">#</a></h3>
<p>The RepositoryIndex API returns information about every model
available in a model repository, even if it is not currently loaded
into Triton. Errors are indicated by the google.rpc.Status returned
for the request. The OK code indicates success and other codes
indicate failure. The request and response messages for
RepositoryIndex are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">message</span> <span class="n">RepositoryIndexRequest</span>
<span class="p">{</span>
  <span class="o">//</span> <span class="n">The</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">repository</span><span class="o">.</span> <span class="n">If</span> <span class="n">empty</span> <span class="n">the</span> <span class="n">index</span> <span class="ow">is</span> <span class="n">returned</span>
  <span class="o">//</span> <span class="k">for</span> <span class="nb">all</span> <span class="n">repositories</span><span class="o">.</span>
  <span class="n">string</span> <span class="n">repository_name</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

  <span class="o">//</span> <span class="n">If</span> <span class="n">true</span> <span class="k">return</span> <span class="n">only</span> <span class="n">models</span> <span class="n">currently</span> <span class="n">ready</span> <span class="k">for</span> <span class="n">inferencing</span><span class="o">.</span>
  <span class="nb">bool</span> <span class="n">ready</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">message</span> <span class="n">RepositoryIndexResponse</span>
<span class="p">{</span>
  <span class="o">//</span> <span class="n">Index</span> <span class="n">entry</span> <span class="k">for</span> <span class="n">a</span> <span class="n">model</span><span class="o">.</span>
  <span class="n">message</span> <span class="n">ModelIndex</span> <span class="p">{</span>
    <span class="o">//</span> <span class="n">The</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">model</span><span class="o">.</span>
    <span class="n">string</span> <span class="n">name</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

    <span class="o">//</span> <span class="n">The</span> <span class="n">version</span> <span class="n">of</span> <span class="n">the</span> <span class="n">model</span><span class="o">.</span>
    <span class="n">string</span> <span class="n">version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

    <span class="o">//</span> <span class="n">The</span> <span class="n">state</span> <span class="n">of</span> <span class="n">the</span> <span class="n">model</span><span class="o">.</span>
    <span class="n">string</span> <span class="n">state</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>

    <span class="o">//</span> <span class="n">The</span> <span class="n">reason</span><span class="p">,</span> <span class="k">if</span> <span class="nb">any</span><span class="p">,</span> <span class="n">that</span> <span class="n">the</span> <span class="n">model</span> <span class="ow">is</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">given</span> <span class="n">state</span><span class="o">.</span>
    <span class="n">string</span> <span class="n">reason</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="o">//</span> <span class="n">An</span> <span class="n">index</span> <span class="n">entry</span> <span class="k">for</span> <span class="n">each</span> <span class="n">model</span><span class="o">.</span>
  <span class="n">repeated</span> <span class="n">ModelIndex</span> <span class="n">models</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3>Load<a class="headerlink" href="#id2" title="Permalink to this headline">#</a></h3>
<p>The RepositoryModelLoad API requests that a model be loaded into
Triton, or reloaded if the model is already loaded. Errors are
indicated by the google.rpc.Status returned for the request. The OK
code indicates success and other codes indicate failure. The request
and response messages for RepositoryModelLoad are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">message</span> <span class="n">RepositoryModelLoadRequest</span>
<span class="p">{</span>
  <span class="o">//</span> <span class="n">The</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">repository</span> <span class="n">to</span> <span class="n">load</span> <span class="n">from</span><span class="o">.</span> <span class="n">If</span> <span class="n">empty</span> <span class="n">the</span> <span class="n">model</span>
  <span class="o">//</span> <span class="ow">is</span> <span class="n">loaded</span> <span class="kn">from</span> <span class="nn">any</span> <span class="n">repository</span><span class="o">.</span>
  <span class="n">string</span> <span class="n">repository_name</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

  <span class="o">//</span> <span class="n">The</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">model</span> <span class="n">to</span> <span class="n">load</span><span class="p">,</span> <span class="ow">or</span> <span class="n">reload</span><span class="o">.</span>
  <span class="n">string</span> <span class="n">model_name</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

  <span class="o">//</span> <span class="n">Optional</span> <span class="n">parameters</span><span class="o">.</span>
  <span class="nb">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">ModelRepositoryParameter</span><span class="o">&gt;</span> <span class="n">parameters</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">message</span> <span class="n">RepositoryModelLoadResponse</span>
<span class="p">{</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The RepositoryModelLoad API accepts the following parameters:</p>
<ul class="simple">
<li><p>“config” : string parameter that contains a JSON representation of the model
configuration, which must be able to be parsed into <a class="reference external" href="https://github.com/triton-inference-server/common/blob/main/protobuf/model_config.proto">ModelConfig message from
model_config.proto</a>.
This config will be used for loading the model instead of the one in
the model directory. If config is provided, the (re-)load will be triggered as
the model metadata has been updated, and the same (re-)load behavior will be
applied.</p></li>
<li><p>“file:&lt;version&gt;/&lt;file-name&gt;” : bytes parameter that contains the model
file content. This convention will be used to specify the override model
directory to load the model from. For instance, if the user wants to specify a
model directory that contains an ONNX model as version 2, then the user will
specify the parameter to “file:2/model.onnx” : “<file-content>”. Note that
“config” parameter must be provided to serve as the model configuration of the
override model directory.</p></li>
</ul>
</div>
<div class="section" id="id3">
<h3>Unload<a class="headerlink" href="#id3" title="Permalink to this headline">#</a></h3>
<p>The RepositoryModelUnload API requests that a model be unloaded from
Triton. Errors are indicated by the google.rpc.Status returned for the
request. The OK code indicates success and other codes indicate
failure. The request and response messages for RepositoryModelUnload
are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">message</span> <span class="n">RepositoryModelUnloadRequest</span>
<span class="p">{</span>
  <span class="o">//</span> <span class="n">The</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">repository</span> <span class="kn">from</span> <span class="nn">which</span> <span class="n">the</span> <span class="n">model</span> <span class="n">was</span> <span class="n">originally</span>
  <span class="o">//</span> <span class="n">loaded</span><span class="o">.</span> <span class="n">If</span> <span class="n">empty</span> <span class="n">the</span> <span class="n">repository</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">considered</span><span class="o">.</span>
  <span class="n">string</span> <span class="n">repository_name</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

  <span class="o">//</span> <span class="n">The</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">model</span> <span class="n">to</span> <span class="n">unload</span><span class="o">.</span>
  <span class="n">string</span> <span class="n">model_name</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

  <span class="o">//</span> <span class="n">Optional</span> <span class="n">parameters</span><span class="o">.</span>
  <span class="nb">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">ModelRepositoryParameter</span><span class="o">&gt;</span> <span class="n">parameters</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">message</span> <span class="n">RepositoryModelUnloadResponse</span>
<span class="p">{</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The RepositoryModelUnload API accepts the following parameters:</p>
<ul class="simple">
<li><p>“unload_dependents” : boolean parameter indicating that in addition
to unloading the requested model, also unload any dependent model
that was loaded along with the requested model. For example, request to
unload the models composing an ensemble will unload the ensemble as well.</p></li>
</ul>
</div>
</div>
</div>

<div class="section">
   
</div>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="extension_model_configuration.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Model Configuration Extension</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="extension_schedule_policy.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Schedule Policy Extension</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By NVIDIA<br/>
  
      &copy; Copyright 2022 NVIDIA CORPORATION &amp; AFFILIATES. All rights reserved.<br/>
    Last updated on Oct 05, 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


<script type="text/javascript">_satellite.pageBottom();</script>
  </body>
</html>